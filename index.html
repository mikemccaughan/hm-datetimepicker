<!DOCTYPE html>
<html lang="en-US">
  <head>
    <title>Heretic-Monkey's Date/Time Picker</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="index.css" />
    <script src="HMDateTimePicker.js" type="module"></script>
  </head>
  <body>
    <h1>Demo</h1>
    <p>
      <a href="hm-datepicker-component-poc.html">Date Picker Web Component POC</a>
    </p>
    <form>
      <div class="form-group">
        <label for="date-time-input">Date/Time Input:</label>
        <input type="text" id="date-time-input" class="date-time-utc" />
      </div>
      <aside class="date-time-picker date-picker show" role="tablist">
        <div class="date-time-picker-tabs">
          <button type="button" class="date-picker-tab">Date</button>
          <button type="button" class="time-picker-tab">Time</button>
        </div>
        <div class="date-picker calendar-entry" role="tab">
          <div class="calendar-entry" role="tabpanel">
            <div class="calendar-entry-header">
              <label for="date-time-picker-month">Month:</label>
              <select id="date-time-picker-month" class="month-utc"></select>
              <label for="date-time-picker-year">Year:</label>
              <select id="date-time-picker-year" class="year-utc"></select>
              <button type="button" class="month-year-selector">
                <span class="selected">Oct 2020</span> â–¼
              </button>
              <button
                id="date-time-picker-prev"
                class="month-prev-utc"
                type="button"
              >
                Prev
              </button>
              <button
                id="date-time-picker-next"
                class="month-next-utc"
                type="button"
              >
                Next
              </button>
            </div>
            <div class="calendar-entry-body">
              <span
                class="calendar-entry-body-header-weekday"
                aria-label="Sunday"
                >Sun</span
              >
              <span
                class="calendar-entry-body-header-weekday"
                aria-label="Monday"
                >Mon</span
              >
              <span
                class="calendar-entry-body-header-weekday"
                aria-label="Tuesday"
                >Tue</span
              >
              <span
                class="calendar-entry-body-header-weekday"
                aria-label="Wednesday"
                >Wed</span
              >
              <span
                class="calendar-entry-body-header-weekday"
                aria-label="Thursday"
                >Thu</span
              >
              <span
                class="calendar-entry-body-header-weekday"
                aria-label="Friday"
                >Fri</span
              >
              <span
                class="calendar-entry-body-header-weekday"
                aria-label="Saturday"
                >Sat</span
              >
            </div>
          </div>
          <div class="year-entry" role="tabpanel"></div>
          <div class="month-entry" role="tabpanel"></div>
          <div class="manual-entry">
            <label for="date-time-picker-date-input">Date:</label>
            <input
              type="text"
              id="date-time-picker-date-input"
              class="date-utc"
              readonly
            />
          </div>
        </div>
        <div class="time-picker time-entry" role="tab">
          <div class="time-entry"></div>
          <div class="manual-entry">
            <label for="date-time-picker-time-input">Time:</label>
            <input 
              type="text"
              id="date-time-picker-time-input"
              class="time-utc"
              pattern="^[0-2]?[0-9]{1}.?[0-5]{1}[0-9]{1}.?[0-5]?[0-9]?\s?([aA]|[pP])?[mM]?$"
            />
            <button type="button" class="date-time-picker-time-input-now">Now</button>
            <label for="date-time-picker-time-zone-input">Zone: (<span class="date-time-picker-time-zone-name"></span>)</label>
            <select
              id="date-time-picker-time-zone-input"
              class="date-time-picker-time-zone">
              <option value="UTC" selected>UTC (default)</option>
            </select>
            <aside class="note">
              <p data-probable="true" data-possible="true">Probably your time zone</p>
              <p data-possible="true">Possibly be your time zone<br>(as they match the offset from UTC currently)</p>
            </aside>
          </div>
        </div>
        <div class="picker-footer">
          <button type="button" class="picker-footer picker-footer-cancel">
            Cancel
          </button>
          <button type="button" class="picker-footer picker-footer-submit">
            OK
          </button>
        </div>
      </aside>
    </form>
    <script async type="module">
      import {HMDateTimePicker} from './HMDateTimePicker.js';
      const picker = new HMDateTimePicker({
        inputSelector: '#date-time-input',
        pickerSelector: 'aside.date-time-picker',
        pickerTabsSelector: '.date-time-picker-tabs',
        useUTC: true,
        defaultDate: undefined,
        format: 'MM/dd/yyyy',
        maxDate: (function () {
          var d = new Date();
          d.setDate(d.getDate() + 180);
          return d;
        })(),
        minDate: Date.now() + new Date().getTimezoneOffset() * 1000,
        useYearAndMonthTabs: true,
      });
      picker.init();
    </script>
  </body>
</html>
